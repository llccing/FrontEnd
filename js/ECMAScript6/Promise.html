<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Promise | Rowan Liu's Tech</title><meta name="description" content="just do it! ">
    <link rel="preload" href="/FrontEnd/assets/style-Dgw7cJie.css" as="style"><link rel="stylesheet" href="/FrontEnd/assets/style-Dgw7cJie.css">
    <link rel="modulepreload" href="/FrontEnd/assets/app-DxUSmTbc.js"><link rel="modulepreload" href="/FrontEnd/assets/Promise.html-BZ9D4V87.js">
    <link rel="prefetch" href="/FrontEnd/assets/index.html-MI6RX2_A.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-CREATE.html-C3BOl5ec.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-SELECT.html-BcYMGBfs.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-GROUP BY.html-Cg3ulff8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CzRbdv1N.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DpNwstFa.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/PAC.html-BWquVteU.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-C79xyKlO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Block-Formatting-Context.html-CvpaV7fo.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/flex.html-Db0t7dNC.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/grid.html-DaVKdh5U.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/inline-block.html-D3RUYwEq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/layout.html-Brvz720x.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/preprocess.html-BeYexCNk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DlxXJkfb.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/rem.html-AJdC53oP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/responsive-web-design.html-BTEEx45v.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/selector.html-C8ppaHyA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BqhZNDZg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DpuaxAE-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-JR6z1KSt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-C7nrG9Xn.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CCRIpC5u.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BU432prd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/OOP.html-DxWG6NRy.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DTj1Okbe.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/validateForm.html-BHN99sVz.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-D-eOTBWT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/css.html-vQ2kt3Cd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/js.html-BOPpzKj2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Node.js Architecture and 12 Best Practices for Node.js Development.html-BNQcnSj1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-Br6Uxvk3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Top 10 ways to use Interceptors in Angular.html-CEnNrtfM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/core-js@3_ babel and a look into the future.html-DIiW2Je9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/making-vue-3.html-BJS-aLyK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue-cli-plugin-dev.html-DnyNknD1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue-cli-plugin-eslint-readme.html-DKQ81fiv.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue-cli-plugin-typescript-readme.html-CPtE4tD7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/what-you-need-know-about-Vue-3-in-2020.html-DTccWmeE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/2018-dev-guide.html-BKRIXcZI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FrontEndLive.html-CrSGnwRf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/architecture.html-CnF_pAWb.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ci.html-BeKyTI33.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/for.html-D_wWMQWb.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/gzip.html-RniRzrY5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/jQuery.html-CXXNfO_q.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/lerna.html-D97yLFJO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/useGulp.html-Ef0avzpp.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue-cli2-to-vue-cli3.html-BlnPvU2Y.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue3.html-Y7rDZEy5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vueComponent.html-DhS_0nXO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-Reflect-Metadata.html-BonjDoy7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BWMs7XmD.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generator-async.html-ucxRVnO0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generator.html-o8gmw2J5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Iterator-for...of.html-FyrwcyVX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Proxy-Reflect.html-d5hTsF8L.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Set-Map.html-CTptHIpJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/String-extension.html-D97uoyuw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Symbol.html-8J2b8zod.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/async-await-promise.html-4A2ouMX4.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/function-extension.html-DRdXhrcg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/let-const.html-BocQ42qy.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/number-extension.html-BQ9zn8II.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/object-extension.html--AUDheCc.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DkhFJG0g.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/variable-destructor-assignment.html-BfXXHVpe.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ajax.html-DErdzPdH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/apply-call.html-DGD2eDnR.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/arguments.html-BGikcg_3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/calc-box-size.html-Yyh2mfVI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/cookie.html-Clnrj-Et.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/drag.html-sHG1FHJJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-change-detection.html-DMXmjNRh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-view-engine-vs-ivy.html-CkQrSkrM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-zone.html-DjAwoaGT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/04-version-update.html-CPAoWfhv.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BqggozYG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/init.html-BYUpEIXI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-NHZUHm8C.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CFs2e0gT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-WdL7tpi7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-OAuth_2.0.html-CSJbon7J.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-MongoDB.html-CCLjXr97.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/lots_of_passport.html-DnUdByCO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/sso.html-BLdh4pMO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/00-react.html-BJneuYGX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-start-project.html-DUOuytUv.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-a-language.html-ghLn70Or.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/00-vue.html-Ciq_JKuu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-flow.html-BumrJ4xk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-src-structure.html-BmQW0XOY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-compile.html-CwGgwprV.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/04-entry.html-CRAeBNJO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/10-data-driven.html-CHQEPszc.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/11-new-Vue.html-xzxqGXoy.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/12-vue-mounted.html-AVltkMX8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/13-render.html-CTAJNmqT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/14-virtual-DOM.html-BcwsaWU1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/15-createElement.html-DrHu9ny2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/16-update.html-Bhm_uDII.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/20-components.html-VgNhMODi.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/30-responsive.html-CrnJT01w.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BM5T9s7j.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-C5wDd9ug.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vs-build-size.html-CHrJnrQq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-remark.html-CnTiWUJN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DBYLzRGM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/webpack-5-federated-module.html-NvKo3KBL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/cnodejs.html-QtAOCrCj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-overview.html-BPmhFYP0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-terminology-concept.html-BFRlcJ68.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01.html-DetkOp-O.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-F58VHCqt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Artifact.html-rI727GZg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Audit-Manager.html-D1Ca5RK5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Bedrock.html-iRJFLmSJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Comprehend.html-BUpM9Ket.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Data-Exchange.html-CP-yXiTE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Inspector.html-D8k5jX07.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Lex.html-DW_Dh45Z.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Macie.html--LVigAJt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/OpenSearch-Service.html-CBBskO5S.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Personalize.html-Jhi1WLHH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Q-developer.html-h-VfPS6y.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/QuickSight.html-BV1YQqo_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SageMaker.html-AJLPBelO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Transcribe.html-Bn9cSjfy.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Trusted-Advisor.html-snqR52w7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/BERTScore.html-CtsZ7JW5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CFG-scale.html-CuPp2tNf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Epoch.html-I-PSaOpP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/F1-Store.html-BeqLNN84.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generate-pre-trained-Transformers.html-DZrBExRu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generative-adversarial-network.html-DzDZToHI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Hallucination.html-DQopepHh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-Confusion.html-CiDxocbW.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-Correlation.html-YK82qz84.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-Mean-Squared-Error.html-BKIXTnBH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-R2-score.html-CLECEeG_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RLHF.html-0biuWvt4.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Recall-Oriented Understudy.html-vG3mhxI8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Reinforcement-learning.html-C7q4vj0x.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Residual-neural-network.html-CAx1Bm00.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Responsible-generative-ai.html-CmhKkCBx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Supervised-learning.html-Cmmzg03h.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Support-vector-machine.html-CKplNxVa.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Transfer-learning.html-CNGcUkGA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Unsupervised-learning.html-DMREUXfI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/WaveNet.html-s8BIL1Yy.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/XGBoost.html-BmS6mCJ4.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/019-train.html-D_EJ3FyW.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/021-OpenSearch-Service.html-DADTCywf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/024-prompt-engineering.html-B9OuCAgm.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/029-Prompt-injection.html-CKvVrSbS.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/030-security-responsibility.html-C23Dd3tl.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/031-image-classify.html-3zrd6PaL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/032-GPT.html-CvyHWkN8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/036-Inference.html-CTPK24yB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/041-Epoch.html-Bp8It3QA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/043-SageMaker-Clarify.html-BFvuZJLv.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/044-performance-decreased.html-CqbhAA-p.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/046-chat-with-PDF.html-CvsDE6du.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/047-evalute-the-output.html-CdmBdm64.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/048-aligns-FM.html-Bp41c0e5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/049-responsive-minimize-bias.html-DiGEviu6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/050-must-do-to-custom-model-bedrock.html-Ba5Jj6ca.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/053-ec2-ai-type.html-DQuhQAro.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/055-type-of-model.html-ywvQ8kC4.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/057-sampling-bias.html-7XF7TlEf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/058-RL.html-Bqu_6sMk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/059-matrix.html-CIT_jk61.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/060-find-offensive.html-PpDYa9RI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/062-offline-large-data-process.html-DzzcpqgK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/064-fine-turning.html-DSjma3cX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/065-temperatrue-high-low.html-CjznMnC9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/066-security-policy.html-Cqi9SKow.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/070-strategy-of-img-classification.html-FxrijtZ6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/072-few-shot.html-f06tbgPg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/073-bedrock-on-demand-pay.html-CRvvj4jX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/074-hallucination.html-C8Z97VVI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/075-confidential-data.html-B7dEKrYm.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/076-BLEU.html-D06krtcf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/077-agents-in-bedrock.html-ZKCRNQ5N.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/078-ongoing-pre-training.html-Xv-gsvsQ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/081-s3-to-SageMaker.html-i-gibkZo.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/083-prompting-attack.html-DZUYv--K.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/087-SageMaker-network-isolation.html-CUMegZtB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/089-developer-tools.html-CbvPcZq7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/092-Adversarial-prompting.html-CIQSCa9o.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/093-judge-fine-tuned-LLM.html-BsOoNsdG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/094-CFG-scale.html-IrQvO0Bg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/097-Fairness.html-DBbeFs1G.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/099-BERTScore.html-CMo5iQMN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/100-K-NN.html-CJ35lj99.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/001-250107.html-B2vLzUoU.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0011-250321.html-CbWclq9J.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/002-250113.html-ESQXgEIT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0021-250323.html-CvVyvTng.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/003-250115.html-COqTbNGp.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0031-250324.html-B86Lg17Z.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/004-250119.html-BbeR74V0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0041-250408.html-dV03wyBw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/005-250130.html-HlRHFZMI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0051-250414.html-DaHJZzVX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/006-250203.html-DDNiOMC_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0061-250505.html-BA9Z2kFZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/APIGateway.html-CyiUppE3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/AppFlow.html-Db_8KTvT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Athena.html-Cg-YCZuG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Aurora.html-CoXwXIVE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/AutoScaling.html-Dq2bhRt_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Backup.html-DEGn5uzA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CertificateManager.html-cLR6z0EQ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudFormation.html-9bS-cfmB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudFront.html-BSY31bFB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudTrail.html-C_aq5rCq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudWatch.html-5-LuKHqh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Cognito.html-Dlelvz5v.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Comprehend.html-ebq8oYCv.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ComprehendMedical.html-BAcZaYLB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Config.html-C10C1-3G.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ControlTower.html-BtOmlx4C.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DR.html-2ILzbsPX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DataSync.html-BuPvGjV_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DatabaseCaching.html-Bv5Tf5MJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DatabaseMigrationService.html-WdIFb76u.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DirectConnect.html-C_VXS5-o.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DirectoryService.html-ULNAzhrx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DynamoDB.html-BEq70Cyx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DynamoDBAccelerator.html-BNU-hhPh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EBS.html-DFWQy7P3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EC2.html-CjveUU9Q.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EC2AutoScaling.html-i83cS38-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ECS.html-Dsz5Mljj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EFS.html-B6EODsAE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EKS.html-BXOWYLAc.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ELB.html-D3NvQzfx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EMR.html-DWD8wErL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ElasticBeantalk.html-DWQRO7-S.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ElasticCache.html-cPRLDDbU.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EventBridge.html-Dhra8J10.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FSxFileGateway.html-CcDh-RTM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FSxForLustre.html-Yhfc3gLT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FXsForWindowsFileServer.html-B72E7GAD.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Fargate.html-8SpZFFXF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FirewallManager.html-xlzkEfyN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/GlobalAccelerator.html-C32v3ZRq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Glue.html-MRSfyIH6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/GuardDuty.html-Bfx0SQzn.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/IAM.html-DtqMUIVV.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Inspector.html-mERx7aVF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/KMS.html-SB1DCPw_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/KinesisDataFirehose.html-BYcyiuSB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/KinesisDataStream.html-Cdab5Xaa.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/LakeFormation.html-CuO13CPw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Lambda.html-N_92XIDG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/MQ.html-CMeKm6DS.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Macie.html-DuDxJL1Y.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/NetworkFirewall.html-DTKOswTy.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/OpenSearchService.html-CD8W9_ps.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Orgnizations.html-D2_DoOZO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/PrivateLink.html-DwdlIF5W.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/QuickSight.html-BR_c8uE0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RDS.html-DLgjPKm_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RDSProxy.html-bIZLZFeq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RedShift.html-edBWVsoP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Rekognition.html-BYegYocX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Route53.html-DuNpJhAW.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/S3.html-BcW0Nlm1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SNS.html-AKt9S0MP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SQS.html-CTToTOMY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SageMaker.html-CIal8JP9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SecretsManager.html-3jVCsdMC.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Shield.html-DiBw6WJK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SnowFamily.html-Ca3WqxrM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/StorageGateway.html-Cg6eI-K3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SystemsManager.html-H6b592yo.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Textract.html-Ydy-eCAu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/TransferFamily.html-BFE1TWy9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/TransitGateway.html-bTymTnZK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/VPC.html-CtDXPaDf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/WAF.html-YH_18ZJw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-general.html-B6cZQMp5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-providers.html-CwN1Wc5D.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-apis.html-D1U5v2kw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/04-operations.html-B47mbx7l.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BXksl1Iw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CVbYjV-c.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-Diu7KXqw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-B5rQHbHA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-mjgIP1xH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-B9TrOCZ8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BeEfbVD0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BSOW3ycG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CCZEM30K.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DxZBSICY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-01-10.html-CDgXoL_i.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-11-20.html-CiUaDtc2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-21-30.html-EmcN0uSu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-31-40.html-DyTvUS4O.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-41-50.html-Cn7dkPiB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-51-60.html-DL6YL-cx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/wrong-list.html-MX6jFz-X.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0000-Questions.html-B1R9RPlc.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0001-Answers.html-BKHWutmf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0010-Questions.html-CbJheEgM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0011-Answers.html-BXDle9TL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0020-Questions.html-CZ1ltf8a.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0021-Answers.html-4DmaxOIl.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0030-Questions.html-DSx0q978.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0031-Answers.html-DGrodcfF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0040-Questions.html-D6ZK9nS7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0041-Answers.html-DuYEEFvf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0050-Questions.html-Ymm7EV4_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0051-Answers.html-DKTBrhg1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0060-Questions.html-wbYLBdCo.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0061-Answers.html-Wn8KAKn9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0070-Questions.html-CZCw5Rvu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0071-Answers.html-NCSLx_7i.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0080-Questions.html-BA8S3ZGH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0081-Answers.html-DXCWMy0i.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0090-Questions.html-D8jxZmk6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0091-Answers.html-SSfFqG2r.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0100-Questions.html-DVxXpfWq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0101-Answers.html-d31dbAGG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0110-Questions.html-BiESxucT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0111-Answers.html-5DP2F_QN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0120-Questions.html-c_ElI9qx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0121-Answers.html-BAoqHzYT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0130-Questions.html-CTzGUeXK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0131-Answers.html-BJAq1tae.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0140-Questions.html-ENjC5hzu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0141-Answers.html-CiorFWFN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0150-Questions.html-BO7D13rq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0151-Answers.html-4duh023G.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0160-Questions.html-C_A1Y1XF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0161-Answers.html-DYMA8W1S.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0170-Questions.html-C567h1EJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0171-Answers.html-DvEtB6lL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0180-Questions.html-rfo9PIPR.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0181-Answers.html-DWIS5F6f.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0190-Questions.html-CYe6sdSR.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0191-Answers.html-BIpOn6ii.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/404.html-yqaA_6Ts.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/FrontEnd/"><!----><span class="vp-site-name" aria-hidden="true">Rowan Liu&#39;s Tech</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/blog/" aria-label="Blog"><!--[--><!--[--><!--]--><!--]-->Blog<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/css/" aria-label="CSS"><!--[--><!--[--><!--]--><!--]-->CSS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/FrontEnd/js/" aria-label="JS"><!--[--><!--[--><!--]--><!--]-->JS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/lib/" aria-label="lib"><!--[--><!--[--><!--]--><!--]-->lib<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/read/" aria-label="Read"><!--[--><!--[--><!--]--><!--]-->Read<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://rowanliu.com/about" aria-label="About" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->About<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/llccing/FrontEnd" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/blog/" aria-label="Blog"><!--[--><!--[--><!--]--><!--]-->Blog<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/css/" aria-label="CSS"><!--[--><!--[--><!--]--><!--]-->CSS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/FrontEnd/js/" aria-label="JS"><!--[--><!--[--><!--]--><!--]-->JS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/lib/" aria-label="lib"><!--[--><!--[--><!--]--><!--]-->lib<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/read/" aria-label="Read"><!--[--><!--[--><!--]--><!--]-->Read<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://rowanliu.com/about" aria-label="About" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->About<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/llccing/FrontEnd" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/FrontEnd/js/" aria-label="万丈高楼平地起，地基实在很重要"><!--[--><!--[--><!--]--><!--]-->万丈高楼平地起，地基实在很重要<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">ES2015 <span class="down arrow"></span></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/" aria-label="概要"><!--[--><!--[--><!--]--><!--]-->概要<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/let-const.html" aria-label="let和const"><!--[--><!--[--><!--]--><!--]-->let和const<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/function-extension.html" aria-label="函数的扩展"><!--[--><!--[--><!--]--><!--]-->函数的扩展<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/Generator-async.html" aria-label="Generator异步应用"><!--[--><!--[--><!--]--><!--]-->Generator异步应用<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/Generator.html" aria-label="Generator函数"><!--[--><!--[--><!--]--><!--]-->Generator函数<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/Iterator-for...of.html" aria-label="Iterator(遍历器)"><!--[--><!--[--><!--]--><!--]-->Iterator(遍历器)<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/number-extension.html" aria-label="数值的扩展"><!--[--><!--[--><!--]--><!--]-->数值的扩展<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/object-extension.html" aria-label="对象的扩展"><!--[--><!--[--><!--]--><!--]-->对象的扩展<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/FrontEnd/js/ECMAScript6/Promise.html" aria-label="Promise"><!--[--><!--[--><!--]--><!--]-->Promise<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/Proxy-Reflect.html" aria-label="/js/ECMAScript6/Proxy-Reflect.html"><!--[--><!--[--><!--]--><!--]-->/js/ECMAScript6/Proxy-Reflect.html<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/Set-Map.html" aria-label="Set/Map"><!--[--><!--[--><!--]--><!--]-->Set/Map<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/String-extension.html" aria-label="字符串的扩展"><!--[--><!--[--><!--]--><!--]-->字符串的扩展<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/Symbol.html" aria-label="/js/ECMAScript6/Symbol.html"><!--[--><!--[--><!--]--><!--]-->/js/ECMAScript6/Symbol.html<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/ECMAScript6/variable-destructor-assignment.html" aria-label="/js/ECMAScript6/variable-destructor-assignment.html"><!--[--><!--[--><!--]--><!--]-->/js/ECMAScript6/variable-destructor-assignment.html<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">basic <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/basic/apply-call.html" aria-label="apply、call"><!--[--><!--[--><!--]--><!--]-->apply、call<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/basic/ajax.html" aria-label="ajax"><!--[--><!--[--><!--]--><!--]-->ajax<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/basic/arguments.html" aria-label="arguments"><!--[--><!--[--><!--]--><!--]-->arguments<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/js/basic/calc-box-size.html" aria-label="计算盒模型的各种尺寸"><!--[--><!--[--><!--]--><!--]-->计算盒模型的各种尺寸<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="promise" tabindex="-1"><a class="header-anchor" href="#promise"><span>Promise</span></a></h1><h2 id="promise-的含义" tabindex="-1"><a class="header-anchor" href="#promise-的含义"><span>Promise 的含义</span></a></h2><p>异步编程的解决方案，比传统的回调函数和事件更合理和强大。 Promise 最早由社区提出、实现，ES6 将其写入了语言标准，统一了用法，原生提供了 Promise 对象。 Promise 简单说是一个容器，里面保存着未来才会结束的事件（通常是异步操作）的结果。从语法上说，Promise 是一个对象，从它可以获取异步操作的消息。 Promise 提供统一的 API，各种异步操作都可以用同样的方法来处理。</p><p>Promise 的两个特点</p><ol><li><p>对象的状态不受外界影响。Promise 对象代表异步操作，有三种状态，pending(进行中)、fulfilled(已成功)、reject(已失败)。只有异步操作的结果 可以决定当前是哪一种状态，任何其他操作都无法改变这个状态，这也是 Promise 这个名字的由来，它的英语意思是“承诺”，表示其他手段无法改变。</p></li><li><p>一旦状态改变，就不会再变。pending-&gt;fulfilled 或者 pending-&gt;reject，状态的转变只有这两种可能。如果改变已经发生了，你再对 Promise 对象添加回调函数， 也会立即得到这个结果。</p></li></ol><p>有了 Promise 对象，就可以将异步操作以同步操作的流程表达出来，避免了层层函数嵌套的回调函数。</p><p>Promise 也有缺点。</p><ol><li><p>无法取消 Promise，一旦新建它就会立即执行，无法中途取消。</p></li><li><p>如果不设置回调函数，Promise 内部抛出错误，不会反映到外部。</p></li><li><p>pending 状态时，无法得知当前进展到哪一段（刚刚开始还是即将完成）。</p><pre><code>一般来说某些事件不断反复发生，使用Stream模式比Promise更好。
</code></pre></li></ol><h2 id="基本用法" tabindex="-1"><a class="header-anchor" href="#基本用法"><span>基本用法</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">555</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 Promise 的一个例子，主要是觉得 setTimeout 的写法比较有新意。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">function</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token parameter">ms</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">setTimeout</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> ms<span class="token punctuation">,</span> <span class="token string">&#39;done&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function">timeout</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>记住 Promise 新建后就会执行</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> aPromise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Promise是立即执行，不是调用才执行，知道不！&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;其实，你虽然 resolve 了，但是我还是会执行！&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;这里就不会执行了，因为前面已经return了&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">aPromise</span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Promise执行结束了！&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;我就是一个普通的输出！&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 Promise 来做异步加载图片</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">loadingImageAsync</span> <span class="token operator">=</span> <span class="token parameter">url</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> image <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    image<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">resolve</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    image<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;图片打不开，小主！&#39;</span> <span class="token operator">+</span> url<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    image<span class="token punctuation">.</span>src <span class="token operator">=</span> url</span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function">loadingImageAsync</span><span class="token punctuation">(</span><span class="token string">&#39;http://frontend.llccing.cn/poweredby.png&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 第二个例子，errr是一个不存在的图片，会触发reject，同时被catch捕获。</span></span>
<span class="line"><span class="token function">loadingImageAsync</span><span class="token punctuation">(</span><span class="token string">&#39;http://frontend.llccing.cn/errr.png&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用Promise对象实现Ajax操作</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">getJSON</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">!==</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>response<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>satusText<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> client <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    client<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    client<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> handler<span class="token punctuation">;</span></span>
<span class="line">    client<span class="token punctuation">.</span>responseType <span class="token operator">=</span> <span class="token string">&#39;json&#39;</span><span class="token punctuation">;</span></span>
<span class="line">    client<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span><span class="token string">&#39;Accept&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;application/json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    client<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> promise</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 因为实际不存在这个url，所以代码会执行到catch</span></span>
<span class="line"><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&#39;/api/name/zhangsan&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">resp</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>resp<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如下p1和p2都是Promise实例，p2的resolve方法将p1作为参数，即一个异步操作的结果返回另一个异步操作。</p><p>那么这是p1的状态就会传给p2，就是说，p1的状态决定了p2的状态。如果p1是pending，那么p2的回调函数就会等待p1的状态变化；如果p1的状态是resolved或者rejected，那么p2的回调函数就会立刻执行。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;fail&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">resolve</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line">p2<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">result</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再次注意，调用resolve或者reject并不会终结Promise的函数执行。</p><p>一般来说，resolve或者reject后，Promise的是使命就完成了，所以最好在resolve或者reject前面加上return，如下面的第二个例子。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token comment">// 这里的2还是会输出的</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  </span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 这样直接return</span></span>
<span class="line"><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  </span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="promise-prototype-then" tabindex="-1"><a class="header-anchor" href="#promise-prototype-then"><span>Promise.prototype.then()</span></a></h2><p>Promise实例具有then方法，也就是说then方法是定义在原型对象Promise.prototype上的。then方法的第一个参数resolved状态的回调函数，第二个参数（可选）是rejected状态的回调函数。</p><p>then方法返回的是新的Promise实例，所以可以采用链式写法，即then方法后面再调用一个then方法。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"></span>
<span class="line"><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&#39;./data.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">return</span> json<span class="token punctuation">.</span>data</span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>采用链式的then，可以指定一组按照顺序调用的回调函数。这时前一个回调函数有可能返回的还是一个Promise对象（即有异步操作），这时后一个回调函数就会等待该Promise对象的状态发生变化，才会被调用。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"></span>
<span class="line"><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&#39;./data.json&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>url<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token function">getJSON</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>url<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">funcA</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;resolved&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">funcB</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;rejected&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>改为箭头函数，则更为简洁</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token function">getJSON</span><span class="token punctuation">(</span><span class="token string">&#39;./data.json&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">json</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>url<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token function">getJSON</span><span class="token punctuation">(</span>json<span class="token punctuation">.</span>url<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">funcA</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;resolved&#39;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">funcB</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;rejected&#39;</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="promise-prototype-catch" tabindex="-1"><a class="header-anchor" href="#promise-prototype-catch"><span>Promise.prototype.catch()</span></a></h2><p>Promise.prototype.catch方法是.then(null, rejection)或.then(undefined, rejection)的别名，用于指定发生错误时的回调函数。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">55</span><span class="token punctuation">,</span> err<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">promise</span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">66</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">promise</span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">77</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Promise抛出一个错误，就会被catch方法指定的回调函数捕获。下面的两种写法是等价的</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;reject test&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">reject</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">promise<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> promise2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;reject test2&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">promise2<span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>比较上面两种写法，可以发现reject方法的作用，等同于抛出错误。</p><p>如果Promise状态已经是resolved，再抛出错误时无效的。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;error test&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">promise<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Promise对象的错误具有“冒泡”性质，会一直向后传递，直到被捕获。 一般来说建议在then方法中定义rejected状态的回调函数，总是使用catch方法。</p><p>跟传统的try/catch不同的是，Promise对象如果没有指定catch方法的回调函数进行错误处理，那么抛出的错误不会传递到外层代码，即没有任何反应。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token function-variable function">someAsyncThing</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 此处会报错，因为x没有声明</span></span>
<span class="line">    <span class="token function">resolve</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function">someAsyncThing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;everything is fine! &#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上述代码，setTimeout函数间隔2s后还是会执行，证明Promise会吃掉错误。</p><p>node中有一个unhandleRejection事件，专门监听未捕获的rejected事件，</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">process<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&#39;unhandledRejection&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">error<span class="token punctuation">,</span> p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;wow&#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果catch处理中还是有报错，那么可以再进行catch处理</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">resolve</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">promise</span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;捕获, &#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;捕获, &#39;</span><span class="token punctuation">,</span> y <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;再捕获, &#39;</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="promise-prototype-finally" tabindex="-1"><a class="header-anchor" href="#promise-prototype-finally"><span>Promise.prototype.finally()</span></a></h2><p>finally方法用于指定不管Promise对象最后状态如何，都会执行的操作。该方法是ES2018引入的。</p><p>finally方法不接受任何参数。所以不知道Promise的状态是fulfilled还是rejected。这表明finally里的操作应该是状态无关的，不依赖Promise的执行结果。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">666</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 注意，finally 在node环境中，提示没有该方法，可能与node版本有关系，但是Chrome浏览器下正常。</span></span>
<span class="line">promise</span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;always do things&#39;</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>finally本质是then的特例</p><h2 id="promise-all" tabindex="-1"><a class="header-anchor" href="#promise-all"><span>Promise.all()</span></a></h2><p>Promise.all()方法用于将多个Promise实例，包装成一个新的Promise实例。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> p3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">,</span> p3<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>p的状态有p1、p2、p3决定：</p><ol><li>p123都是fulfilled，p是fulfilled。此时p123的返回值组成数组，传递给p的回调函数。</li><li>p123有一个是rejected状态，p就是rejected。支持第一个被rejected的实例返回值，会传递给p的回调函数。</li></ol><p>注意，要是作为Promise.all的参数的Promise自己定义了catch函数，那么Promise.all的catch不会再次捕获，而会执行 Promise.all.then方法</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;test error&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> error<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> error<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果p2不定义catch，那么则会执行 Promise.all的catch方法。</p><h2 id="promise-race" tabindex="-1"><a class="header-anchor" href="#promise-race"><span>Promise.race()</span></a></h2></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/llccing/FrontEnd/edit/main/js/ECMAScript6/Promise.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2026-01-12T10:15:45.000Z" data-allow-mismatch>2026/1/12 10:15</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: lcf33123@gmail.com">Rowan Liu</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/FrontEnd/js/ECMAScript6/object-extension.html" aria-label="对象的扩展"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">对象的扩展</span></div><!--]--></a><a class="route-link auto-link next" href="/FrontEnd/js/ECMAScript6/Proxy-Reflect.html" aria-label="/js/ECMAScript6/Proxy-Reflect.html"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">/js/ECMAScript6/Proxy-Reflect.html</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/FrontEnd/assets/app-DxUSmTbc.js" defer></script>
  </body>
</html>
