<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Vue CLI 插件开发指南 | Rowan Liu's Tech</title><meta name="description" content="just do it! ">
    <link rel="preload" href="/FrontEnd/assets/style-Dgw7cJie.css" as="style"><link rel="stylesheet" href="/FrontEnd/assets/style-Dgw7cJie.css">
    <link rel="modulepreload" href="/FrontEnd/assets/app-Dbw06csz.js"><link rel="modulepreload" href="/FrontEnd/assets/vue-cli-plugin-dev.html-C3Ibxpw7.js">
    <link rel="prefetch" href="/FrontEnd/assets/index.html-DebKSYuo.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-CREATE.html-DyfUymx7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-SELECT.html-0T9N0gP9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-GROUP BY.html-BU8IEDgf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-3UHET6kd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-Bpf2fsiV.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/PAC.html-BJCuvrt9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BdY0wKTY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-jcHmqPBV.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Block-Formatting-Context.html-CGaFJNk0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/flex.html-BJ5MLBxp.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/grid.html-FjaL0hjj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/inline-block.html-CI-OuKfC.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/layout.html-zUzWlpHx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/preprocess.html-D0A4KWWF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BtJRBJia.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/rem.html-Ck9M_Mg_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/responsive-web-design.html-mtQEpLA5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/selector.html-CXFnIyYF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DfanodtI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BbSDWQDl.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DGYOGcBA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-m4oEyTMk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html--fF1NhXY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/OOP.html-CUVq55CX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-up-34N7t.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/validateForm.html-DaRKB-pI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BMUxZDcP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/css.html-DFV5aFsW.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/js.html-DcqCfE2S.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/2018-dev-guide.html-esdyKCky.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FrontEndLive.html-lu_qDf2m.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/architecture.html-7MwB1t2i.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ci.html-lHjBF8NT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/for.html-B6_g2cdS.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/gzip.html-TyDoovMh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/jQuery.html-CBd0Do7N.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/lerna.html-BWRN13sg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/useGulp.html-ClOijHIU.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue-cli2-to-vue-cli3.html-BBbLCh9H.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue3.html-DiI_wg0K.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vueComponent.html-CzomkoCl.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Node.js Architecture and 12 Best Practices for Node.js Development.html-BJBF_gMe.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-EhpXQcOr.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Top 10 ways to use Interceptors in Angular.html-D99x0gpf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/core-js@3_ babel and a look into the future.html-3M0iByhA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/making-vue-3.html-BpyjEq3q.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue-cli-plugin-eslint-readme.html-DdzOqcnM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vue-cli-plugin-typescript-readme.html-BH8sN0WP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/what-you-need-know-about-Vue-3-in-2020.html-CcMClwSt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generator-async.html-DTKCGnJP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generator.html-Dx6_kMHZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Iterator-for...of.html-BNu9NUmu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Promise.html-tGMtoow1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Proxy-Reflect.html-BhMNplQ6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Set-Map.html-C8wBXp4a.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/String-extension.html-74O_L_jM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Symbol.html-Blw_4IBE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/async-await-promise.html-lipQY19v.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/function-extension.html-CuUnWU_z.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/let-const.html-zaRD5Iv8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/number-extension.html-Z1cnDdh1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/object-extension.html-C2t_gMXJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-B9hcVfWv.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/variable-destructor-assignment.html-DtG518Az.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-Reflect-Metadata.html-KrDqi-HA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CJM4HWLx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ajax.html-DWYW22GK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/apply-call.html--tNQWBqQ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/arguments.html-CpVh7WWM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/calc-box-size.html-D9zfuw6k.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/cookie.html-DH_axBSP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/drag.html-1nlc1iRm.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-change-detection.html-GgItAIAl.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-view-engine-vs-ivy.html-LPVeSeZn.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-zone.html-Cxcuas0o.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/04-version-update.html-DHeOwNEj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-r5Y9Wfa3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DuR2gYtG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-U6lsgHI2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/init.html-CbFE-iH9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CQalsLZT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-OAuth_2.0.html-BTjDsocy.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-MongoDB.html-D6cjRVzP.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/lots_of_passport.html-BG0J5GAr.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/sso.html-DeeiMKqZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/00-react.html-Cj0JQTo7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-start-project.html-P464K0zJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-a-language.html-CAJlfJH9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/00-vue.html-CWRlr204.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-flow.html-BbVxmXqX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-src-structure.html-5ywREjg2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-compile.html-CVQY3eH7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/04-entry.html-hRebpgrr.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/10-data-driven.html-DrnWduyA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/11-new-Vue.html-Dq3_-FUC.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/12-vue-mounted.html-B_4bSrMN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/13-render.html-XyB2BWMU.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/14-virtual-DOM.html-AMN3agX1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/15-createElement.html-CTc_XbDx.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/16-update.html-D7BwIeRn.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/20-components.html-nXkHe9E-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/30-responsive.html-Dcuf8UqM.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CZkuhR6c.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-S7zinzvd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/vs-build-size.html-mIcKpQku.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-remark.html-Ca67D-Rt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DR39Ttk-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/webpack-5-federated-module.html-D1hfERM5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/cnodejs.html-BG63Rnip.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-overview.html-6ISL2upk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-terminology-concept.html-DZdZaYV_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01.html-BKA1uGI2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-Cu1zDLC2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Artifact.html-Kra3UK9M.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Audit-Manager.html-CpJXo5CX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Bedrock.html-c9rqojo0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Comprehend.html-FoOL6KKl.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Data-Exchange.html-CeiBLPi-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Inspector.html-B_eFclDH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Lex.html-DZH9K8z-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Macie.html-BVleCzcY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/OpenSearch-Service.html-CRETqe7d.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Personalize.html-L0m1-uar.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Q-developer.html-CXaER5dr.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/QuickSight.html-LMnC9qr6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SageMaker.html-BFX-4CbO.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Transcribe.html-CZnRHQgY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Trusted-Advisor.html-DqgbklPL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/BERTScore.html-D9rYadCA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CFG-scale.html-BCgGmlpS.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Epoch.html-1mhEKny5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/F1-Store.html-D_jBQExg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generate-pre-trained-Transformers.html-CQ__K1ug.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Generative-adversarial-network.html-DHj7O-yr.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Hallucination.html-DFEAVmFt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-Confusion.html-DtgCUdBR.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-Correlation.html-syNPmLOb.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-Mean-Squared-Error.html-B1fEiGx-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Matrix-R2-score.html-DuSfzeze.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RLHF.html-BHMCmonN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Recall-Oriented Understudy.html-Dwgni9br.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Reinforcement-learning.html-Kdut_RKG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Residual-neural-network.html-HiD5iqv_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Responsible-generative-ai.html-BQbVA_jj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Supervised-learning.html-CiXZTfRs.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Support-vector-machine.html-BkKBuuY3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Transfer-learning.html-CoPFVU-B.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Unsupervised-learning.html-CdezP92F.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/WaveNet.html-Be3RJ_9p.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/XGBoost.html-DnAnqwcr.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/019-train.html-D6EPwNFk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/021-OpenSearch-Service.html--5jl0tmH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/024-prompt-engineering.html-D5ta22TN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/029-Prompt-injection.html-WlEc6iko.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/030-security-responsibility.html-C9SXflFZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/031-image-classify.html-Dct72Cej.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/032-GPT.html-nY6VnRGJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/036-Inference.html-BBCtrKgi.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/041-Epoch.html-rROFR9vB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/043-SageMaker-Clarify.html-CFLRZezT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/044-performance-decreased.html-Lq96F3Kk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/046-chat-with-PDF.html-CNUP3Gm7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/047-evalute-the-output.html-CIFGpCi2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/048-aligns-FM.html-sdgAY1a-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/049-responsive-minimize-bias.html-B4IaUakC.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/050-must-do-to-custom-model-bedrock.html-BxE1sgLH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/053-ec2-ai-type.html-nuCX__O1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/055-type-of-model.html-C2bdEJOk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/057-sampling-bias.html-0gLDFexd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/058-RL.html-CujrDwD1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/059-matrix.html-C_W5ut9m.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/060-find-offensive.html-CyK1Gq_2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/062-offline-large-data-process.html-nbyeJ23L.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/064-fine-turning.html-C9gxrnvj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/065-temperatrue-high-low.html-CMz4eAkW.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/066-security-policy.html-O2PzcBtR.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/070-strategy-of-img-classification.html-D_OvKfAZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/072-few-shot.html-C04G4jA0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/073-bedrock-on-demand-pay.html-DXFyuRK0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/074-hallucination.html-hu8NPzMZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/075-confidential-data.html-CM6dA_jL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/076-BLEU.html-Cm3ClieS.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/077-agents-in-bedrock.html-Dy3tEsVL.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/078-ongoing-pre-training.html-CUPdyj1W.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/081-s3-to-SageMaker.html-CXfJUWwA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/083-prompting-attack.html-DtK-7XAs.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/087-SageMaker-network-isolation.html-5HRKZ78d.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/089-developer-tools.html-iPLx-8PV.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/092-Adversarial-prompting.html-Bxcu3zoF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/093-judge-fine-tuned-LLM.html-L2xVW6On.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/094-CFG-scale.html-DlUKsW98.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/097-Fairness.html-DrZdR9Nw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/099-BERTScore.html-ByevIfSI.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/100-K-NN.html-DA8G9pbG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/001-250107.html-BmI7jXYa.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0011-250321.html-DK3oynKu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/002-250113.html-xS8JjuZA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0021-250323.html-eLE6n2l1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/003-250115.html-3vASgLeT.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0031-250324.html-D2z9nxYt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/004-250119.html-B01gk2s-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0041-250408.html-CJmTEdtY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/005-250130.html-CijdESDk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0051-250414.html-rEUbSMcS.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/006-250203.html-CNfRpc5E.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0061-250505.html-DcBM21cb.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/APIGateway.html-Dis8gL3T.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/AppFlow.html-zrtzBBWs.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Athena.html-B2W9Pt-6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Aurora.html-U3QuzVHz.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/AutoScaling.html-C4LDLYfA.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Backup.html-CvQCJWpd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CertificateManager.html-x83Ej7lw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudFormation.html-CC1_ir78.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudFront.html-D3cc7Pj6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudTrail.html--xcWn3YX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/CloudWatch.html-DjTcjxna.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Cognito.html-UtZfsvTQ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Comprehend.html-DBWPThrX.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ComprehendMedical.html-CRlmjKUH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Config.html-CtjSp2qa.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ControlTower.html-Cwz61Fli.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DR.html-BK-1bYlG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DataSync.html-Cy_ZyBw5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DatabaseCaching.html-Cdt8ehL7.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DatabaseMigrationService.html-BD2hLDqb.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DirectConnect.html-Bluc9NIN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DirectoryService.html-BFSly8VG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DynamoDB.html-B0Fpm87G.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/DynamoDBAccelerator.html-DFv3dSGG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EBS.html-DG7L5HDW.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EC2.html-F1Y3nR8f.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EC2AutoScaling.html-RUbGU9hz.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ECS.html-BqE7BA-S.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EFS.html-CBWMWhK4.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EKS.html-Bxodu1v8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ELB.html-B2IDP7Wa.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EMR.html-CDspvmsg.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ElasticBeantalk.html-CLUMfp1K.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/ElasticCache.html-B5648iYE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/EventBridge.html-CGn6oSxJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FSxFileGateway.html-CU0RUP35.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FSxForLustre.html-kqpkD9DK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FXsForWindowsFileServer.html-DIu678uB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Fargate.html-DgFgOtO9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/FirewallManager.html-Ov1nugTi.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/GlobalAccelerator.html-DJhEWGUs.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Glue.html-DE5VGRzo.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/GuardDuty.html-DtcNOnOw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/IAM.html-D2LKKQ1O.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Inspector.html-g4nDpLSK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/KMS.html-CBkLkuTq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/KinesisDataFirehose.html-BBpn17rG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/KinesisDataStream.html-IPXWivKh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/LakeFormation.html-BUd6BNWY.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Lambda.html-Crf7oqyj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/MQ.html-CZmItsde.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Macie.html-BMD3ETwd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/NetworkFirewall.html-Cujirc-2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/OpenSearchService.html-Dkb8wR3-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Orgnizations.html-0V1QT-Ns.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/PrivateLink.html-DpR9ArKp.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/QuickSight.html-Dj2WV1O5.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RDS.html-CEw56R3P.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RDSProxy.html-B5SOW_M2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/RedShift.html-bDbKDYkk.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Rekognition.html-DqDgPmAz.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Route53.html-CwgaUoIG.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/S3.html-Ck9Voaof.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SNS.html-C5sS8UrN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SQS.html-CB7OrWos.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SageMaker.html-CFNEElno.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SecretsManager.html-BofnzvQm.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Shield.html-tECpSWJK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SnowFamily.html-CoROjt34.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/StorageGateway.html-BbX4Mkn1.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/SystemsManager.html-C0-7z3td.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Textract.html-Dooih0fs.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/TransferFamily.html-uu7EK1pV.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/TransitGateway.html-DQTkmdbj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/VPC.html-FiLbnDzB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/WAF.html-B_v2KbXE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/01-general.html-BUWcf3Zb.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/02-providers.html-D_Nx6YQV.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/03-apis.html-DKXgjeoU.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/04-operations.html-BFg33pxB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BHsasDvE.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-dylrE5nN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-CoaKFrAd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-Bsr1dKn3.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DHquksuj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-ZfKb-1Cj.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-BAQt-Wyw.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-YkhIMLfJ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-DHCLNHl9.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/index.html-0UcazeCf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0000-Questions.html-CnxeW6aZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0001-Answers.html-of90jV6H.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0010-Questions.html-D6TwhtMn.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0011-Answers.html-UcYw5gLl.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0020-Questions.html-C37LqbmK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0021-Answers.html-CjJxfQla.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0030-Questions.html-CrRQ13nu.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0031-Answers.html-DGzdqXd_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0040-Questions.html-D53qsbu-.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0041-Answers.html-CJhD9NcN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0050-Questions.html-48MebPQH.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0051-Answers.html-4P736Phd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0060-Questions.html-S6PDGrTK.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0061-Answers.html-4kBwAX5a.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0070-Questions.html-CrrghxC6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0071-Answers.html-D_gVFu-d.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0080-Questions.html-DJrtLPr2.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0081-Answers.html-BGZM84pf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0090-Questions.html-M7iOmvMd.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0091-Answers.html-DqXkdadN.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0100-Questions.html-DsPiU4t0.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0101-Answers.html-D745-JQq.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0110-Questions.html-D39gKvNo.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0111-Answers.html-WvTw5hh6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0120-Questions.html-UuFr8MDt.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0121-Answers.html-D_TzOdKC.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0130-Questions.html-BMF0HCqQ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0131-Answers.html-D2EzIBVc.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0140-Questions.html-DD8yCSzR.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0141-Answers.html-CvcEm70H.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0150-Questions.html-T1S8eA0O.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0151-Answers.html-B-jnlglf.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0160-Questions.html-BFLR_g1A.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0161-Answers.html-CfTBlWG8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0170-Questions.html-TorUcnx6.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0171-Answers.html-C_pwh67_.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0180-Questions.html-AjAH8QLn.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0181-Answers.html-749BwKsr.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0190-Questions.html-ChAAL6Rh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/0191-Answers.html-DcQU6Mvp.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-01-10.html-DGJip4GZ.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-11-20.html-bpSTIQKB.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-21-30.html-cwSLaPt8.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-31-40.html-BRob0ffh.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-41-50.html-Tjyno79Z.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/Self-test-51-60.html-D1IweMZW.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/wrong-list.html-CkKvkGnF.js" as="script"><link rel="prefetch" href="/FrontEnd/assets/404.html-DtHT0UHl.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/FrontEnd/"><!----><span class="vp-site-name" aria-hidden="true">Rowan Liu&#39;s Tech</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/FrontEnd/blog/" aria-label="Blog"><!--[--><!--[--><!--]--><!--]-->Blog<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/css/" aria-label="CSS"><!--[--><!--[--><!--]--><!--]-->CSS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/js/" aria-label="JS"><!--[--><!--[--><!--]--><!--]-->JS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/lib/" aria-label="lib"><!--[--><!--[--><!--]--><!--]-->lib<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/read/" aria-label="Read"><!--[--><!--[--><!--]--><!--]-->Read<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://rowanliu.com/about" aria-label="About" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->About<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/llccing/FrontEnd" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/" aria-label="Home"><!--[--><!--[--><!--]--><!--]-->Home<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/FrontEnd/blog/" aria-label="Blog"><!--[--><!--[--><!--]--><!--]-->Blog<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/css/" aria-label="CSS"><!--[--><!--[--><!--]--><!--]-->CSS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/js/" aria-label="JS"><!--[--><!--[--><!--]--><!--]-->JS<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/lib/" aria-label="lib"><!--[--><!--[--><!--]--><!--]-->lib<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/FrontEnd/read/" aria-label="Read"><!--[--><!--[--><!--]--><!--]-->Read<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://rowanliu.com/about" aria-label="About" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->About<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/llccing/FrontEnd" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item vp-sidebar-heading" href="/FrontEnd/blog/" aria-label="在专精的路上走的一发不可收拾"><!--[--><!--[--><!--]--><!--]-->在专精的路上走的一发不可收拾<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">生活有感 <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/lerna.html" aria-label="lerna"><!--[--><!--[--><!--]--><!--]-->lerna<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/jQuery.html" aria-label="jQuery实践"><!--[--><!--[--><!--]--><!--]-->jQuery实践<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/gzip.html" aria-label="gzip"><!--[--><!--[--><!--]--><!--]-->gzip<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/2018-dev-guide.html" aria-label="2018 Web开发,实用指南"><!--[--><!--[--><!--]--><!--]-->2018 Web开发,实用指南<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/for.html" aria-label="for 追求"><!--[--><!--[--><!--]--><!--]-->for 追求<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/ci.html" aria-label="Travis CI"><!--[--><!--[--><!--]--><!--]-->Travis CI<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/useGulp.html" aria-label="前端基础设施(gulp)"><!--[--><!--[--><!--]--><!--]-->前端基础设施(gulp)<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/FrontEndLive.html" aria-label="知乎Live--前端工程师的职业规划"><!--[--><!--[--><!--]--><!--]-->知乎Live--前端工程师的职业规划<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/architecture.html" aria-label="前端架构演进"><!--[--><!--[--><!--]--><!--]-->前端架构演进<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/vueComponent.html" aria-label="组件的重写"><!--[--><!--[--><!--]--><!--]-->组件的重写<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/vue-cli2-to-vue-cli3.html" aria-label="vue-cli2 to vue-cli3"><!--[--><!--[--><!--]--><!--]-->vue-cli2 to vue-cli3<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/life/vue3.html" aria-label="vue3"><!--[--><!--[--><!--]--><!--]-->vue3<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active collapsible">翻译 <span class="down arrow"></span></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item" href="/FrontEnd/blog/translate/" aria-label="开篇"><!--[--><!--[--><!--]--><!--]-->开篇<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/translate/Top%2010%20ways%20to%20use%20Interceptors%20in%20Angular.html" aria-label="[译]在 Angular 中使用拦截器的方式 Top 10"><!--[--><!--[--><!--]--><!--]-->[译]在 Angular 中使用拦截器的方式 Top 10<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/translate/what-you-need-know-about-Vue-3-in-2020.html" aria-label="2020年关于 Vue 3 你需要知道的事"><!--[--><!--[--><!--]--><!--]-->2020年关于 Vue 3 你需要知道的事<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/translate/core-js@3_%20babel%20and%20a%20look%20into%20the%20future.html" aria-label="core-js@3, babel展望未来"><!--[--><!--[--><!--]--><!--]-->core-js@3, babel展望未来<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/FrontEnd/blog/translate/vue-cli-plugin-dev.html" aria-label="Vue CLI 插件开发指南"><!--[--><!--[--><!--]--><!--]-->Vue CLI 插件开发指南<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/translate/vue-cli-plugin-typescript-readme.html" aria-label="@vue/cli-plugin-typescript README"><!--[--><!--[--><!--]--><!--]-->@vue/cli-plugin-typescript README<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/translate/vue-cli-plugin-eslint-readme.html" aria-label="@vue/cli-plugin-eslint"><!--[--><!--[--><!--]--><!--]-->@vue/cli-plugin-eslint<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/translate/making-vue-3.html" aria-label="Vue 3 的开发进展"><!--[--><!--[--><!--]--><!--]-->Vue 3 的开发进展<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">那些年我面过的试 <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/interview/" aria-label="开篇"><!--[--><!--[--><!--]--><!--]-->开篇<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/interview/js.html" aria-label="JavaScript"><!--[--><!--[--><!--]--><!--]-->JavaScript<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/interview/css.html" aria-label="css"><!--[--><!--[--><!--]--><!--]-->css<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">数据结构 <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/dataStructure/" aria-label="排序"><!--[--><!--[--><!--]--><!--]-->排序<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading collapsible">设计模式 <span class="right arrow"></span></p><ul class="vp-sidebar-children" style="display:none;"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/design-pattern/" aria-label="开篇"><!--[--><!--[--><!--]--><!--]-->开篇<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/design-pattern/OOP.html" aria-label="OOP"><!--[--><!--[--><!--]--><!--]-->OOP<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/FrontEnd/blog/design-pattern/validateForm.html" aria-label="表单验证"><!--[--><!--[--><!--]--><!--]-->表单验证<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="vue-cli-插件开发指南" tabindex="-1"><a class="header-anchor" href="#vue-cli-插件开发指南"><span>Vue CLI 插件开发指南</span></a></h1><blockquote><p>原文 <a href="https://cli.vuejs.org/dev-guide/plugin-dev.html" target="_blank" rel="noopener noreferrer">https://cli.vuejs.org/dev-guide/plugin-dev.html</a></p></blockquote><p>已经提了 merge request <a href="https://github.com/vuejs/vue-cli/pull/5345" target="_blank" rel="noopener noreferrer">https://github.com/vuejs/vue-cli/pull/5345</a></p><h2 id="开始" tabindex="-1"><a class="header-anchor" href="#开始"><span>开始</span></a></h2><p>一个 CLI 插件是一个 npm 包，它能够为 Vue CLI 创建的项目添加额外的功能，这些功能包括：</p><ul><li>修改项目的 webpack 配置 - 例如，如果你的插件希望去针对某种类型的文件工作，你可以为这个特定的文件扩展名添加新的 webpack 加载规则。你可以看 <code>@vue/cli-plugin-typescript</code> 这个插件，添加这样的规则去载入 <code>.ts</code> 和 <code>.tsx</code> 的扩展文件；</li><li>添加新的 vue-cli-service 命令 - 例如，<code>@vue/cli-plugin-unit-jest</code> 添加了 <code>test:unit</code> 命令，允许开发者运行单元测试；</li><li>扩展 <code>package.json</code> - 当你的插件添加了一些依赖到项目中，你需要将他们添加到package 的 dependencies 部分时，这是一个有用的选项；</li><li>在项目中创建新文件、或者修改老文件。有时创建一个示例组件或者通过给入口文件（main.js）添加导入（imports）是一个好的主意；</li><li>提示用户选择一个特定的选项 - 例如，你可以询问用户是否创建我们前面提到的示例组件。</li></ul><div class="hint-container tip"><p class="hint-container-title">提示</p><p>不要过度使用 vue-cli 插件！如果你仅希望包函特定的插件，例如，<a href="https://lodash.com/" target="_blank" rel="noopener noreferrer">Lodash</a> - 相比创建一个特定的插件，通过 npm 手动安装更加简单。</p></div><p>CLI 插件应该总是包函一个 <a href="#service-plugin">service 插件</a> 做为主的导出，并且他能够选择性的包含 <a href="#generator">generator</a>, <a href="#prompts">prompt 文件</a> 和 <a href="#ui-integration">Vue UI 集成</a>。</p><p>作为一个 npm 包，CLI 插件必须有一个 <code>package.json</code> 文件。通常建议在 <code>README.md</code> 中包含插件的描述，来帮助其他人在 npm 上发现你的插件。</p><p>所以，通常的 CLI 插件目录结构看起来像下面这样：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token builtin class-name">.</span></span>
<span class="line">├── README.md</span>
<span class="line">├── generator.js  <span class="token comment"># generator（可选）</span></span>
<span class="line">├── index.js      <span class="token comment"># service 插件</span></span>
<span class="line">├── package.json</span>
<span class="line">├── prompts.js    <span class="token comment"># prompt 文件（可选）</span></span>
<span class="line">└── ui.js         <span class="token comment"># Vue UI 集成（可选）</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="命名和可发现性" tabindex="-1"><a class="header-anchor" href="#命名和可发现性"><span>命名和可发现性</span></a></h2><p>对于一个能够在 Vue CLI 项目中使用的 CLI 插件来说，他必须以下的命名惯例 <code>vue-cli-plugin-&lt;name&gt;</code> 或者 <code>@scope/vue-cli-plugin-&lt;name&gt;</code>。这样你的插件就能够：</p><ul><li>被 <code>@vue/cli-service</code> 发现；</li><li>被其他开发者通过搜索发现；</li><li>通过 <code>vue add &lt;name&gt;</code> 或者 <code>vue invoke &lt;name&gt;</code> 安装。</li></ul><div class="hint-container warning"><p class="hint-container-title">Warning</p><p>确保插件的名字是正确的，否则他将不能通过 <code>vue add</code> 安装并且不能在 UI 插件中搜索的到！</p></div><p>为了能够被用户在搜索时更好的发现，可以将插件的关键描述放到 <code>package.json</code> 文件的 <code>description</code> 字段中。</p><p>例如：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli-plugin-apollo&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.7.7&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vue-cli plugin to add Apollo and GraphQL&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你应该在 <code>homepage</code> 或者 <code>repository</code> 字段添加创建插件的官网地址或者仓库的地址，这样 <code>更多信息</code> 的按钮将展示你的插件描述信息：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;repository&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;git+https://github.com/Akryum/vue-cli-plugin-apollo.git&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token property">&quot;homepage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://github.com/Akryum/vue-cli-plugin-apollo#readme&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://cli.vuejs.org/plugin-search-item.png" alt="Plugin search item"></p><h2 id="generator" tabindex="-1"><a class="header-anchor" href="#generator"><span>Generator</span></a></h2><p>插件的 Generator 部分通常在你想要为项目扩展包依赖，创建新的文件或者编辑已经存在的文件时需要。</p><p>在 CLI 插件内部，generator 应该放在 <code>generator.js</code> 或者 <code>generator/index.js</code> 文件中。它将在以下两个场景被引用：</p><ul><li><p>项目初始创建期间，CLI 插件被作为项目创建 preset 的一部分被安装。</p></li><li><p>当插件在项目创建完成和通过 <code>vue add</code> 或者 <code>vue invoke</code> 单独调用被安装时。</p></li></ul><p>一个 generator 应该导出一个接收三个参数的函数：</p><ol><li><p>一个 <a class="route-link" href="/FrontEnd/blog/translate/generator-api.html">GeneratorAPI</a> 实例；</p></li><li><p>插件的 generator 选项。这些选项在项目创建，或者从 <code>~/.vuerc</code> 载入预设时被解析。例如：如果保存的 <code>~/.vuerc</code> 像这样：</p></li></ol><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json"><pre><code class="language-json"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;presets&quot;</span> <span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token property">&quot;@vue/cli-plugin-foo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token property">&quot;option&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果用户使用 preset <code>foo</code> 创建了一个项目，那么 <code>@vue/cli-plugin-foo</code> 的 generator 就会收到 <code>{ option: &#39;bar&#39; }</code> 作为第二个参数。</p><p>对于第三方插件，这个选项将在用户执行 <code>vue invoke</code> (详见 <a href="#prompts">Prompts</a>).时，从提示或者命令行参数中被解析。</p><ol start="3"><li>整个 preset (presets.foo) 将会作为第三个参数传入。</li></ol><h3 id="创建新的模板" tabindex="-1"><a class="header-anchor" href="#创建新的模板"><span>创建新的模板</span></a></h3><p>当你调用 <code>api.render(&#39;./template&#39;)</code> 时，该 generator 将会使用 <a href="https://github.com/mde/ejs" target="_blank" rel="noopener noreferrer">EJS</a> 渲染 <code>./template</code> 中的文件 (相对于 generator 中的文件路径进行解析)</p><p>想象我们正在创建 <a href="https://github.com/ktsn/vue-cli-plugin-auto-routing" target="_blank" rel="noopener noreferrer">vue-cli-auto-routing</a> 插件，我们希望当插件在项目中被引用时做以下的改变：</p><ul><li>创建一个 <code>layouts</code> 文件夹包函默认布局文件；</li><li>创建一个 <code>pages</code> 文件夹包函 <code>about</code> 和 <code>home</code> 页面；</li><li>在 <code>src</code> 文件夹中添加 <code>router.js</code> 文件</li></ul><p>为了渲染这个结构，你需要在 <code>generator/template</code> 文件夹内创建它：</p><p><img src="https://cli.vuejs.org/generator-template.png" alt="Generator structure"></p><p>模板创建完之后，你应该在 <code>generator/index.js</code> 文件中添加 <code>api.render</code> 调用：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;./template&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="编辑已经存在的模板" tabindex="-1"><a class="header-anchor" href="#编辑已经存在的模板"><span>编辑已经存在的模板</span></a></h3><p>此外，你可以使用 YAML 前置元信息继承并替换已有的模板文件的一部分（即使来自另一个包）：</p><div class="language-ejs line-numbers-mode" data-highlighter="prismjs" data-ext="ejs"><pre><code class="language-ejs"><span class="line">---</span>
<span class="line">extend: &#39;@vue/cli-service/generator/template/src/App.vue&#39;</span>
<span class="line">replace: !!js/regexp /<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token punctuation">[</span><span class="token operator">^</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">?</span><span class="token operator">&lt;</span>\<span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">script&gt;</span><span class="token regex-delimiter">/</span></span></span>
<span class="line"><span class="token operator">--</span><span class="token operator">-</span></span>
<span class="line"></span>
<span class="line"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// 替换默认脚本</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也可以替换多处，只不过你需要将替换的字符串包裹在 <code>&lt;%# REPLACE %&gt;</code> 和 <code>&lt;%# END_REPLACE %&gt;</code> 块中：</p><div class="language-ejs line-numbers-mode" data-highlighter="prismjs" data-ext="ejs"><pre><code class="language-ejs"><span class="line">---</span>
<span class="line">extend: &#39;@vue/cli-service/generator/template/src/App.vue&#39;</span>
<span class="line">replace:</span>
<span class="line">  - !!js/regexp /Welcome to Your Vue\.js App/</span>
<span class="line">  - !!js/regexp /<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"><span class="token punctuation">[</span><span class="token operator">^</span><span class="token punctuation">]</span><span class="token operator">*</span><span class="token operator">?</span><span class="token operator">&lt;</span>\<span class="token operator">/</span>script<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">--</span><span class="token operator">-</span></span>
<span class="line"></span>
<span class="line"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># REPLACE </span><span class="token delimiter punctuation">%&gt;</span></span></span>
<span class="line">替换欢迎信息</span>
<span class="line"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># END_REPLACE </span><span class="token delimiter punctuation">%&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># REPLACE </span><span class="token delimiter punctuation">%&gt;</span></span></span>
<span class="line"><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// 替换默认脚本</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token ejs language-ejs"><span class="token delimiter punctuation">&lt;%</span><span class="token comment"># END_REPLACE </span><span class="token delimiter punctuation">%&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="文件名的边界情况" tabindex="-1"><a class="header-anchor" href="#文件名的边界情况"><span>文件名的边界情况</span></a></h3><p>如果你想要渲染一个以点开头的模板文件 (例如 <code>.env</code>)，则需要遵循一个特殊的命名约定，因为以点开头的文件会在插件发布到 npm 的时候被忽略：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 以点开头的模板需要使用下划线取代那个点：</span></span>
<span class="line"></span>
<span class="line">/generator/template/_env</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 当调用 api.render(&#39;./template&#39;) 时，它在项目文件夹中将被渲染为：</span></span>
<span class="line"></span>
<span class="line">/generator/template/.env</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>同时这也意味着当你想渲染以下划线开头的文件时，同样需要遵循一个特殊的命名约定：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># 这种模板需要使用两个下划线来取代单个下划线：</span></span>
<span class="line"></span>
<span class="line">/generator/template/__variables.scss</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 当调用 api.render(&#39;./template&#39;) 时，它在项目文件夹中将被渲染为：</span></span>
<span class="line"></span>
<span class="line">/generator/template/_variable.scss</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="扩展包" tabindex="-1"><a class="header-anchor" href="#扩展包"><span>扩展包</span></a></h3><p>如果你需要向项目中添加额外的依赖，创建一个 npm 脚本或者用任何其他方式修改 <code>package.json</code>，你可以使用 API <code>extendPackage</code> 方法。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// generator/index.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">extendPackage</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">dependencies</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&#39;vue-router-layout&#39;</span><span class="token operator">:</span> <span class="token string">&#39;^0.1.2&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面这个例子中，我们添加了一个依赖：<code>vue-router-layout</code>。在插件调用时，这个 npm 模块将被安装，这个依赖将被添加到用户项目的 <code>package.json</code> 文件。</p><p>同样使用这个 API 我们可以添加新的 npm 任务到项目中。为了实现这个，我们需要定义一个任务名和一个命令，这样他才能够在 用户 <code>package.json</code> 文件的 <code>scripts</code> 部分运行：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// generator/index.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">extendPackage</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">scripts</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">greet</span><span class="token operator">:</span> <span class="token string">&#39;vue-cli-service greet&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面这个例子中，我们添加了一个新的 <code>greet</code> 任务来执行一个创建在<a href="#add-a-new-cli-service-command">Service 部分</a>的自定义 vue-cli 服务命令。</p><h3 id="修改主文件" tabindex="-1"><a class="header-anchor" href="#修改主文件"><span>修改主文件</span></a></h3><p>通过 generator 方法你能够修改项目中的文件。最有用的场景是针对 <code>main.js</code> 或 <code>main.ts</code> 文件的一些修改：新的导入，新的 <code>Vue.use()</code> 调用等。</p><p>让我们来思考一个场景，当我们通过 <a href="#creating-new-templates">模板</a> 创建了一个 <code>router.js</code> 文件，现在我们希望导入这个路由到主文件中。我们将用到两个 generator API 方法： <code>entryFile</code> 将返回项目的主文件（<code>main.js</code> 或 <code>main.ts</code>）内容，<code>injectImports</code> 注入服务将添加新的导入到主文件中：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// generator/index.js</span></span>
<span class="line"></span>
<span class="line">api<span class="token punctuation">.</span><span class="token function">injectImports</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>entryFile<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import router from &#39;./router&#39;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，当我们路由被导入时，我们能够在主文件中将这个路由注入到 Vue 实例。我们能够使用 <code>afterInvoke</code> 钩子，这个钩子将在文件被写入硬盘之后被调用。</p><p>首先，我们需要通过 Node 的 <code>fs</code> 模块（提供了文件交互 API）读取文件内容，将内容拆分</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// generator/index.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">hooks</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">afterInvoke</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> contentMain <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>entryFile<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> lines <span class="token operator">=</span> contentMain<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\r?\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后我们需要找到包函 <code>render</code> 单词的字符串（它通常是 Vue 实例的一部分），<code>router</code> 就是下一个字符串：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// generator/index.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">hooks</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">afterInvoke</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> contentMain <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>entryFile<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> lines <span class="token operator">=</span> contentMain<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\r?\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line highlighted">    <span class="token keyword">const</span> renderIndex <span class="token operator">=</span> lines<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">line</span> <span class="token operator">=&gt;</span> line<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">render</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line highlighted">    lines<span class="token punctuation">[</span>renderIndex<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">\n router,</span><span class="token template-punctuation string">`</span></span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后，你需要将内容写入主文件：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// generator/index.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span><span class="token function-variable function">hooks</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">api</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">afterInvoke</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token constant">EOL</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;os&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> contentMain <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>entryFile<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> lines <span class="token operator">=</span> contentMain<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\r?\n</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> renderIndex <span class="token operator">=</span> lines<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token parameter">line</span> <span class="token operator">=&gt;</span> line<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">render</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    lines<span class="token punctuation">[</span>renderIndex<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">EOL</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">  router,</span><span class="token template-punctuation string">`</span></span></span>
<span class="line highlighted"></span>
<span class="line highlighted">    fs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>entryFile<span class="token punctuation">,</span> line<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token constant">EOL</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">encoding</span><span class="token operator">:</span> <span class="token string">&#39;utf-8&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="service-插件" tabindex="-1"><a class="header-anchor" href="#service-插件"><span>Service 插件</span></a></h3><p>Service 插件可以修改 webpack 配置，创建新的 vue-cli service 命令或者修改已经存在的命令（即 <code>serve</code> 和 <code>build</code>）。</p><p>Service 插件在 Service 实例被创建后自动加载 - 例如，每次 <code>vue-cli-service</code> 命令在项目中被调用的时候。它位于 CLI 插件根目录的 <code>index.js</code> 文件。</p><p>一个 service 插件应该导出一个函数，这个函数接受两个参数：</p><ul><li><p>一个 [PluginAPI][plugin-api] 实例</p></li><li><p>一个包含 <code>vue.config.js</code> 内指定的项目本地选项的对象，或者在 <code>package.json</code> 内的 <code>vue</code> 字段。</p></li></ul><p>一个 service 插件应该包含的最少的代码如下：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="修改-webpack-配置" tabindex="-1"><a class="header-anchor" href="#修改-webpack-配置"><span>修改 webpack 配置</span></a></h3><p>这个 API 允许 service 插件针对不同的环境扩展/修改内部的 webpack 配置。例如，这里我们在 webpack-chain 中包含 <code>vue-auto-routing</code> 这个 webpack 插件，使用给定的参数来修改webpack的配置：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> VueAutoRoutingPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;vue-auto-routing/lib/webpack-plugin&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">api<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">chainWebpack</span><span class="token punctuation">(</span><span class="token parameter">webpackConfig</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    webpackConfig</span>
<span class="line">    <span class="token punctuation">.</span><span class="token function">plugin</span><span class="token punctuation">(</span><span class="token string">&#39;vue-auto-routing&#39;</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueAutoRoutingPlugin<span class="token punctuation">,</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token punctuation">{</span></span>
<span class="line">          <span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token string">&#39;src/pages&#39;</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token literal-property property">nested</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你也可以使用 <code>configureWebpack</code> 方法修改 webpack 配置或者使用 webpack-merge 来合并一个返回的对象。</p><h3 id="添加一个新的-cli-service-命令" tabindex="-1"><a class="header-anchor" href="#添加一个新的-cli-service-命令"><span>添加一个新的 cli-service 命令</span></a></h3><p>通过 service 插件你可以注册一个新的 cli-service 命令，除了标准的命令（即 <code>serve</code> 和 <code>build</code>）。你可以使用 <code>registerCommand</code> API 方法实现。</p><p>这里是个例子，通过创建一个简单地新命令，将向开发控制台打印问候语：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">api<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token string">&#39;greet&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Write a greeting to the console&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">usage</span><span class="token operator">:</span> <span class="token string">&#39;vue-cli-service greet&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">👋  Hello</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在这个例子中，我们提供了名字是（<code>&#39;greet&#39;</code>）的命令，一个有 <code>description</code> 和 <code>usage</code> 选项的对象，和一个在执行 <code>vue-cli-service greet</code> 命令时会调用的函数。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>你可以 <a href="#extending-package">通过 Generator</a> 添加一个新的命令到项目 <code>package.json</code> 文件的 npm 脚本列表中。</p></div><p>如果你想在已经安装了插件的项目中运行新命令，你将看到下面的输出：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">$ vue-cli-service greet</span>
<span class="line">👋 Hello<span class="token operator">!</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>你也可以给新命令定义一系列可能的选项。让我们添加 <code>--name</code> 选项，当提供了 name 参数的时候修改函数打印内容。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">api<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token string">&#39;greet&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Writes a greeting to the console&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">usage</span><span class="token operator">:</span> <span class="token string">&#39;vue-cli-service greet [options]&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;--name&#39;</span><span class="token operator">:</span> <span class="token string">&#39;specifies a name for greeting&#39;</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token parameter">args</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">👋 Hello, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>args<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">👋 Hello!</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，如果 <code>greet</code> 命令携带了特定的 <code>--name</code> 选项，这个 name 被添加到消息控制台：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">$ vue-cli-service greet <span class="token parameter variable">--name</span> <span class="token string">&#39;John Doe&#39;</span></span>
<span class="line">👋 Hello, John Doe<span class="token operator">!</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="修改已经存在的-cli-service-命令" tabindex="-1"><a class="header-anchor" href="#修改已经存在的-cli-service-命令"><span>修改已经存在的 cli-service 命令</span></a></h3><p>如果你想修改一个已经存在的 cli-service 命令，你可以使用 <code>api.service.commands</code> 覆盖（retrieve）它并且做些改变。我们将在应用程序运行的端口打印一条信息到控制台：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> serve <span class="token punctuation">}</span> <span class="token operator">=</span> api<span class="token punctuation">.</span>service<span class="token punctuation">.</span>commands</span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> serveFn <span class="token operator">=</span> serve<span class="token punctuation">.</span>fn</span>
<span class="line"></span>
<span class="line">serve<span class="token punctuation">.</span><span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">serveFn</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span><span class="token punctuation">(</span>res <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>url<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Project is running now at </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>res<span class="token punctuation">.</span>url<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在上面的这个例子中，我们从已经存在的命令列表中覆盖了 <code>serve</code> 命令；然后我们修改了他的 <code>fn</code> 部分（<code>fn</code> 是创建这个新命令时传入的第三个参数；它定义了在执行这个命令时要执行的函数）。修改完后，这个控制台消息将在 <code>serve</code> 命令成功运行后打印。</p><h3 id="为命令指定模式" tabindex="-1"><a class="header-anchor" href="#为命令指定模式"><span>为命令指定模式</span></a></h3><p>如果一个已注册的插件命令需要运行在特定的默认模式下，则该插件需要通过 <code>module.exports.defaultModes</code> 以 <code>{ [commandName]: mode }</code> 的形式来暴露：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">registerCommand</span><span class="token punctuation">(</span><span class="token string">&#39;build&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports<span class="token punctuation">.</span>defaultModes <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这是因为我们需要在加载环境变量之前知道该命令的预期模式，所以需要提前加载用户选项/应用插件。</p><h2 id="对话" tabindex="-1"><a class="header-anchor" href="#对话"><span>对话</span></a></h2><p>对话是在创建一个新的项目或者在已有项目中添加新的插件时处理用户选项时需要的。所有的对话逻辑都存储在 <code>prompts.js</code> 文件中。对话内部是通过 <a href="https://github.com/SBoudrias/Inquirer.js" target="_blank" rel="noopener noreferrer">inquirer</a> 实现。</p><p>当用户通过调用 <code>vue invoke</code> 初始化插件时，如果插件根目录包函 <code>prompts.js</code>，他将在调用时被使用。这个文件应该导出一个<a href="https://github.com/SBoudrias/Inquirer.js#question" target="_blank" rel="noopener noreferrer">问题</a>数组 -- 将被 Inquirer.js 处理。</p><p>你应该直接导出一个问题数组，或者导出一个返回这些内容的函数。</p><p>例如，直接是问题数组：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// prompts.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;locale&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;The locale of project localization.&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>input<span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;en&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token comment">// ...</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例如，一个返回问题数组的函数：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// prompts.js</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// 将 `package.json` 作为参数传入函数</span></span>
<span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">pkg</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> prompts <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;locale&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;The locale of project localization.&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token function-variable function">validate</span><span class="token operator">:</span> <span class="token parameter">input</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>input<span class="token punctuation">,</span></span>
<span class="line">      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;en&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">  <span class="token comment">// 添加动态对话</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&#39;@vue/cli-plugin-eslint&#39;</span> <span class="token keyword">in</span> <span class="token punctuation">(</span>pkg<span class="token punctuation">.</span>devDependencies <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    prompts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;confirm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;useESLintPluginVueI18n&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Use ESLint plugin for Vue I18n ?&#39;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> prompts</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解析到的答案对象将作为选项传入到插件的 generator。</p><p>或者，用户可以通过在命令行传入选项跳过对话直接初始化插件，例如：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">vue invoke my-plugin <span class="token parameter variable">--mode</span> awesome</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>对话可以有<a href="https://github.com/SBoudrias/Inquirer.js#prompt-types" target="_blank" rel="noopener noreferrer">不同的类型</a>，但是在 CLI 大多数使用的是 <code>checkbox</code> 和 <code>confirm</code>。让我们添加一个 <code>confirm</code> 对话，然后在插件的 generator使用它，来创建一个有条件的<a href="#creating-new-templates">模板渲染</a>。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// prompts.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">addExampleRoutes</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;confirm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Add example routes?&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>插件应用时，用户将回答示例路由的问题，默认的答案是 <code>No</code>。</p><p><img src="https://cli.vuejs.org/prompts-example.png" alt="Prompts example"></p><p>如果你想在 generator 中使用用户的选择结果，你可以通过对话名字获得。我们可以修改一下 <code>generator/index.js</code>：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>addExampleRoutes<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">&#39;./template&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token operator">...</span>options</span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在如果用户同意创建示例路由，那么模板将被渲染。</p><h2 id="安装本地插件" tabindex="-1"><a class="header-anchor" href="#安装本地插件"><span>安装本地插件</span></a></h2><p>当你开发自己的插件时，你需要测试它、查看它在使用 Vue CLI 创建的项目中如何工作。你可以使用已经存在的项目或者创建一个新的项目用来测试：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">vue create test-app</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>安装插件，在项目根目录运行下面的命令：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> <span class="token function">install</span> --save-dev file:/full/path/to/your/plugin</span>
<span class="line">vue invoke <span class="token operator">&lt;</span>your-plugin-name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>每次插件修改后，你需要重复这个步骤。</p><p>另一个方式是利用 Vue UI 的能力来添加插件。你可以运行它：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line">vue ui</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将打开浏览器的窗口地址 <code>localhost:8000</code>。到 <code>Vue 项目管理</code> 菜单栏：</p><p><img src="https://cli.vuejs.org/ui-project-manager.png" alt="Vue Project Manager"></p><p>然后找到你的测试项目的名字：</p><p><img src="https://cli.vuejs.org/ui-select-plugin.png" alt="UI Plugins List"></p><p>点击应用名字，到插件菜单（有个难题（puzzle）图标）然后点击右上角的 <code>添加新的插件</code> 按钮。在新页面中你将看到一系列能够通过 npm 获得的 Vue CLI 插件。在页面底部有一个 <code>浏览本地插件</code> 的按钮：</p><p><img src="https://cli.vuejs.org/ui-browse-local-plugin.png" alt="Browse local plugins"></p><p>你点击它之后，你能够轻易的搜索到你到你的插件并添加到项目中。在这之后你将看到插件列表，并且你通过简单的点击下 <code>刷新</code> 图标应用插件带来的变化：</p><p><img src="https://cli.vuejs.org/ui-plugin-refresh.png" alt="Refresh plugin"></p><h2 id="ui-集成" tabindex="-1"><a class="header-anchor" href="#ui-集成"><span>UI 集成</span></a></h2><p>Vue CLI 有一个非常强大的UI工具 -- 允许用户通过图形接口来架构和管理项目。Vue CLI 插件能够集成到接口中。UI 为 CLI 插件提供了额外的功能：</p><ul><li>你可以执行 npm 任务，直接在 UI 中执行插件中定义的命令；</li><li>你可以展示插件的自定义配置。例如： <a href="https://github.com/Akryum/vue-cli-plugin-apollo" target="_blank" rel="noopener noreferrer">vue-cli-plugin-apollo</a> 针对 Apollo 服务器提供了如下的配置：</li></ul><p><img src="https://cli.vuejs.org/ui-configuration.png" alt="UI Configuration Screen"></p><ul><li>当创建项目时，你可以展示 <a href="#%E5%AF%B9%E8%AF%9D">对话</a></li><li>你可以为你的插件添加本地化，如果你想支持多种语言</li><li>你可以使插件在 Vue UI 搜索中被搜索到</li></ul><p>所有关于 Vue UI 的逻辑都应该放到根目录的 <code>ui.js</code> 文件 或者 <code>ui/index.js</code>。这个文件应该导出一个函数 -- 这个函数接收 api 对象作为参数：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// Use the API here</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="在-ui-中增加任务" tabindex="-1"><a class="header-anchor" href="#在-ui-中增加任务"><span>在 UI 中增加任务</span></a></h3><p>Vue CLI 插件不仅允许你<a href="#extending-package">通过 Generator</a> 为项目添加新的 npm 任务，也可以再 Vue UI 中创建他们。当你想通过 UI 运行任务并且看到输出，这是很有用的。</p><p>让我们通过 <a href="#extending-package">Generator</a> 添加 <code>greet</code> 任务到 UI 中。任务是从项目的 <code>package.json</code> 文件的 <code>scripts</code> 字段生成的。你可以根据 <code>api.describeTask</code> 方法 &#39;添加&#39; 额外的信息和钩子。让我们为任务添加一些额外的信息：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token parameter">api</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">describeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">match</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">greet</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Prints a greeting in the console&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">&#39;https://cli.vuejs.org/dev-guide/plugin-dev.html#core-concepts&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在如果你在 Vue UI 中浏览你的项目，你会发现任务添加的 <code>Task</code> 部分。你可以看见任务名，提供的描述信息，你一个链接图标指向你提供的URL，并且在输出窗口展示了任务输出：</p><p><img src="https://cli.vuejs.org/ui-greet-task.png" alt="UI Greet task"></p><h3 id="展示配置页面" tabindex="-1"><a class="header-anchor" href="#展示配置页面"><span>展示配置页面</span></a></h3><p>有时你的项目针对不同的功能或者库，有自定义的配置文件。通过 Vue CLI 插件，你可以在 Vue UI 中展示配置，修改它和保存它（保存将修改你项目中相应的配置）。默认情况下，Vue CLI 项目有个主配置页面，<code>vue.config.js</code> 代表的配置。如果你将 ESLint 包函到项目中，你可以看一个 ESLint 的配置页面：</p><p><img src="https://cli.vuejs.org/ui-configuration-default.png" alt="UI Configuration Screen"></p><p>让我们为你的插件建一个自定义的配置。第一步，在你的插件添加到已经存在的项目中之后，应该有个配置文件。这意味着你需要在<a href="#creating-new-templates">模板步骤</a>将这个文件添加到 <code>template</code> 文件夹中。</p><p>默认情况下，一个可配置的 UI 能够读取和写入以下文件类型：<code>json</code>，<code>yaml</code>，<code>js</code>，<code>package</code>。让我们命名文件为 <code>myConfig.js</code> 将它放入 <code>template</code> 的根文件夹：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">.</span>
<span class="line">└── generator</span>
<span class="line">    ├── index.js</span>
<span class="line">    └── template</span>
<span class="line">        ├── myConfig.js</span>
<span class="line">        └── src</span>
<span class="line">            ├── layouts</span>
<span class="line">            ├── pages</span>
<span class="line">            └── router.js</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在你需要添加一些真实的配置到这个文件中：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// myConfig.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;black&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>当你的插件被应用后，<code>myConfig.js</code> 文件将被渲染到项目根目录。现在让我们在 <code>ui.js</code> 文件中通过 <code>api.describeConfig</code> 方法添加一个新的配置页面。</p><p>首先你需要传入一些信息：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ui.js</span></span>
<span class="line"></span>
<span class="line">api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// 配置的唯一id</span></span>
<span class="line">  <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token string">&#39;org.ktsn.vue-auto-routing.config&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// 展示的名字</span></span>
<span class="line">  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;Greeting configuration&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// 展示在名字下面</span></span>
<span class="line">  <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;This config defines the color of the greeting printed&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token comment">// “更多信息” 的链接</span></span>
<span class="line">  <span class="token literal-property property">link</span><span class="token operator">:</span> <span class="token string">&#39;https://github.com/ktsn/vue-cli-plugin-auto-routing#readme&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container caution"><p class="hint-container-title">Warning</p><p>确保正确地为 id 设置命名空间，它必须在所有的插件中唯一。建议使用 <a href="https://en.wikipedia.org/wiki/Reverse_domain_name_notation" target="_blank" rel="noopener noreferrer">reverse domain name notation</a> 命名方法</p></div><h3 id="配置-logo" tabindex="-1"><a class="header-anchor" href="#配置-logo"><span>配置 logo</span></a></h3><p>你也可以为你的配置选择一个图标。他既可以是 <a href="https://material.io/tools/icons/?style=baseline" target="_blank" rel="noopener noreferrer">Material icon</a> 代码，也可以是自定义图片（看这里 <a class="route-link" href="/FrontEnd/blog/translate/ui-api.html#public-static-files">Public static files</a>）。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ui.js</span></span>
<span class="line"></span>
<span class="line">api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line">  <span class="token comment">// Config icon</span></span>
<span class="line">  <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token string">&#39;color_lens&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你不定义图标，将展示插件logo (看这里 <a href="#logo">Logo</a>)。</p><h4 id="配置文件" tabindex="-1"><a class="header-anchor" href="#配置文件"><span>配置文件</span></a></h4><p>现在你需要将配置文件提供给 UI：这样你可以读取它的内容或者修改它。你需要为你的配置文件选择一个名字，选择格式和提供文件路径：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// other config properties</span></span>
<span class="line">  <span class="token literal-property property">files</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">myConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">js</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;myConfig.js&#39;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里可以提供多个文件。如果我们有 <code>myConfig.json</code>，我们使用 <code>json: [&#39;myConfig.json&#39;]</code> 属性提供它。顺序是很重要的：如果它不存在，列表中的第一个文件名字将用来创建配置文件。</p><h4 id="展示配置的对话" tabindex="-1"><a class="header-anchor" href="#展示配置的对话"><span>展示配置的对话</span></a></h4><p>我们希望在配置页面中展示一个颜色属性的输入框。为了完成它，我们需要 <code>onRead</code> 钩子，它将返回一个被展示的对话列表：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token function-variable function">onRead</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">prompts</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">color</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Define the color for greeting message&#39;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">&#39;white&#39;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面这个例子中，我们定义值为 &#39;白色&#39; 的输入对话。这就是我们的配置页面如何找到上面提供的所有配置：</p><p><img src="https://cli.vuejs.org/ui-config-start.png" alt="UI Config Start"></p><p>现在让我们使用来自配置文件的属性，替换硬编码的 <code>white</code> 值。在 <code>onRead</code> 钩子中 <code>data</code> 对象包函每一个配置文件内容的 JSON 结果。在我们的情况下，<code>myConfig.js</code> 的内容是</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// myConfig.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;black&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>所以，<code>data</code> 对象将是</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">// File</span></span>
<span class="line">  <span class="token literal-property property">myConfig</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// File data</span></span>
<span class="line">    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;black&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>容易看到，我们需要 <code>data.myConfig.color</code> 属性。让我们修改 <code>onRead</code> 钩子：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ui.js</span></span>
<span class="line"></span>
<span class="line"><span class="token function-variable function">onRead</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">prompts</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">color</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Define the color for greeting message&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">value</span><span class="token operator">:</span> data<span class="token punctuation">.</span>myConfig <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>myConfig<span class="token punctuation">.</span>color</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>注意，当页面加载时，如果配置文件不存在 <code>myConfig</code> 可能是 undefined。</p></div><p>你可以看见，在配置页面中 <code>white</code> 被 <code>black</code> 替换了。</p><p>我们可以提供一个默认值，如果配置文件不存在：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ui.js</span></span>
<span class="line"></span>
<span class="line"><span class="token function-variable function">onRead</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> data <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">prompts</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">color</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;input&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Define the color for greeting message&#39;</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token literal-property property">value</span><span class="token operator">:</span> data<span class="token punctuation">.</span>myConfig <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">.</span>myConfig<span class="token punctuation">.</span>color<span class="token punctuation">,</span></span>
<span class="line">      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;black&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="保存配置变化" tabindex="-1"><a class="header-anchor" href="#保存配置变化"><span>保存配置变化</span></a></h4><p>我们刚刚读取了 <code>myConfig.js</code> 的内容并且在配置页面使用它。现在让我们尝试将颜色输入框的内容保存到文件中。我们可以使用 <code>onWrite</code> 钩子：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ui.js</span></span>
<span class="line"></span>
<span class="line">api<span class="token punctuation">.</span><span class="token function">describeConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment">/* ... */</span></span>
<span class="line">  <span class="token function-variable function">onWrite</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> prompts<span class="token punctuation">,</span> api <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// ...</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>onWrite</code> 钩子能够得到许多<a class="route-link" href="/FrontEnd/blog/translate/ui-api.html#save-config-changes">参数</a> 但我们仅仅需要其中的两个：<code>prompts</code> 和 <code>api</code>。第一个是当前对话运行时对象 - 我们将得到对话 id 并且通过 id 拿到答案。为了获取答案我们需要使用来自 <code>api</code> 的 <code>async getAnswer()</code> 方法：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// ui.js</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">async</span> <span class="token function">onWrite</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> api<span class="token punctuation">,</span> prompts <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> prompt <span class="token keyword">of</span> prompts<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    result<span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prompt<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> api<span class="token punctuation">.</span><span class="token function">getAnswer</span><span class="token punctuation">(</span>prompt<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  api<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&#39;myConfig&#39;</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在如果你通过配置页面修改颜色输入框的内容，有 <code>black</code> 变为 <code>red</code>，然后按下 <code>保存修改</code> 按钮，你会发现你的项目中的 <code>myConfig.js</code> 文件也发生了变化：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// myConfig.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;red&#39;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="展示对话" tabindex="-1"><a class="header-anchor" href="#展示对话"><span>展示对话</span></a></h3><p>如果你想，你可以在 Vue UI 中展示<a href="#prompts">对话</a>。当你通过 UI 安装插件时，对话将在插件的调用步骤中展示。</p><p>你可以通过添加额外属性扩展 <a href="#prompts-for-3rd-party-plugins">inquirer 对象</a>。他们是可选项且仅仅被 UI 使用：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// prompts.js</span></span>
<span class="line"></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">  <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// 基本对话属性</span></span>
<span class="line">    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">addExampleRoutes</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;confirm&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&#39;Add example routes?&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token comment">// UI 关联的对话属性</span></span>
<span class="line">    <span class="token literal-property property">group</span><span class="token operator">:</span> <span class="token string">&#39;Strongly recommended&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">description</span><span class="token operator">:</span> <span class="token string">&#39;Adds example pages, layouts and correct router config&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">link</span><span class="token operator">:</span></span>
<span class="line">      <span class="token string">&#39;https://github.com/ktsn/vue-cli-plugin-auto-routing/#vue-cli-plugin-auto-routing&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在，你将在插件调用时看到：</p><p><img src="https://cli.vuejs.org/ui-prompts.png" alt="UI Prompts"></p><h3 id="logo" tabindex="-1"><a class="header-anchor" href="#logo"><span>Logo</span></a></h3><p>你可以放一个 <code>logo.png</code> 文件到文件夹根目录，它将被发布到 npm。将在以下几个地方展示：</p><ul><li>当搜索插件去安装时</li><li>在已安装的插件列表中</li><li>在配置列表中（默认情况）</li><li>在添加任务的任务列表中（默认情况）</li></ul><p><img src="https://cli.vuejs.org/plugins.png" alt="Plugins"></p><p>Logo 应该是方形非透明图片（理想尺寸 84*84）。</p><h3 id="发布插件到-npm" tabindex="-1"><a class="header-anchor" href="#发布插件到-npm"><span>发布插件到 npm</span></a></h3><p>为了发布插件，你需要在 <a href="npmjs.com">npmjs.com</a> 上注册并且全局安装 <code>npm</code>。如果这是你的第一个发布的 npm 模块，请执行</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> login</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输入你的名字和密码。这将存储你的凭证，这样你就不必每次发布时都输入。</p><div class="hint-container tip"><p class="hint-container-title">提示</p><p>发布插件之前，确保你为它选择了正确的名字！名字转换是 <code>vue-cli-plugin-&lt;name&gt;</code>。在 <a href="#discoverability">Discoverability</a> 查看更多信息</p></div><p>接下来发布插件，到插件的根目录，在命令行执行下面的命令：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token function">npm</span> publish</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>成功发布后，你应该能够使用 <code>vue add &lt;plugin-name&gt;</code> 命令将你的插件添加到使用 Vue CLI 创建的项目。</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/llccing/FrontEnd/edit/main/blog/translate/vue-cli-plugin-dev.md" aria-label="Edit this page" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2026-01-12T10:11:20.000Z" data-allow-mismatch>2026/1/12 10:11</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: lcf33123@gmail.com">Rowan Liu</span><!----><!--]--><!--]--></span></div></div></footer><nav class="vp-page-nav" aria-label="page navigation"><a class="route-link auto-link prev" href="/FrontEnd/blog/translate/core-js@3_%20babel%20and%20a%20look%20into%20the%20future.html" aria-label="core-js@3, babel展望未来"><!--[--><div class="hint"><span class="arrow left"></span> Prev</div><div class="link"><span class="external-link">core-js@3, babel展望未来</span></div><!--]--></a><a class="route-link auto-link next" href="/FrontEnd/blog/translate/vue-cli-plugin-typescript-readme.html" aria-label="@vue/cli-plugin-typescript README"><!--[--><div class="hint">Next <span class="arrow right"></span></div><div class="link"><span class="external-link">@vue/cli-plugin-typescript README</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/FrontEnd/assets/app-Dbw06csz.js" defer></script>
  </body>
</html>
